<!DOCTYPE HTML>
<html>
<head>
	<!-- Feel free to take inspiration from my website but please don't copy the whole thing -->
	<meta charset='utf-8'>
	<link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
	<title>Oskar Larsson</title>
	<link href="styles/style.css" rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
	<nav>
		<a href="">Larsson</a>
		<div class="nav-buttons-divider"></div>
		<a class="nav-buttons-disabled" title="Kommer snart">Projekt</a>
		<div class="nav-buttons-divider"></div>
		<a href="javascript:undefined" id="contact">Kontakt</a>
	</nav>
	<div class="box-wrap">
		<main>
			<div class="content" id="project">
				<h2>Projekt</h2>
				<div class="project-wrap">
					<div class="project" data-value="proj_1">
						<h3>Projekt #1</h3>
						<p id="testTagg">
							Detta är en lite kortare beskrivning om ett projekt. Trycker man på
							"Visa mer" får man upp mer info.
						</p>
						<div class="more-info">
							<a class="moreinfo">Mer info</a>
						</div>
					</div>
					<div class="project" data-value="proj_1">
						<h3>Projekt #2</h3>
						<p>
							Detta är en lite kortare beskrivning om ett projekt. Trycker man på
							"Visa mer" får man upp mer info.
						</p>
						<div class="more-info">
							<a class="moreinfo">Mer info</a>
						</div>
					</div>
					<div class="project" data-value="proj_1">
						<h3>Projekt #3</h3>
						<p>
							Detta är en lite kortare beskrivning om ett projekt. Trycker man på
							"Visa mer" får man upp mer info.
						</p>
						<div class="more-info">
							<a class="moreinfo">Mer info</a>
						</div>
					</div>
				</div>
				<div class="expand">
					<a href="javascript:undefined" id="expand-toggle">Se alla projekt</a>
					<img src="images/arrow-down.svg" id="expand-toggle-img" />
				</div>
			</div>
		</main>
		<footer id="footer">
			<span>
				<img src="images/twitter-box.svg" width="28" height="28" alt="Twitter icon" />
				<a href="http://www.twitter.com/oskaaarl" target="_blank" class="tw">@oskaaarl</a>
			</span>
			<span>
				<img src="images/facebook-box.svg" width="28" height="28" alt="Facebook icon" />
				<a href="http://www.facebook.com/OskarjsL" target="_blank" class="fb">/OskarjsL</a>
			</span>
			<span>
				<img src="images/gmail.svg" width="28" height="28" alt="Gmail icon" />
				<span class="mail">
				<noscript>Enable JS to show email</noscript>
				<script type="text/javascript">
					var first = "oskar.larsson94";
					var last = "gmail.com";
					document.write(first + '@' + last);
				</script>
				</span>
			</span>
			<span>Sidan skapad av Oskar Larsson</span>
		</footer>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script>
		var myButton = $('#contact'), myBox = $('footer');
		myButton.click(function () {
			$("html, body").scrollTop($(document).height());
			myBox.addClass('animation');
			myBox.one('webkitAnimationEnd oanimationend msAnimationEnd animationend',
			function(e) {
				myBox.removeClass('animation');
			});
		});
	</script>
	<script src="scripts/modal.js"></script>
	<script>
		var moreInfo = $(".moreinfo");
		var isExpanded = false;
		var filesLoaded = false;
		moreInfo.click(function () {
		  getData($(this));
		});
		$(".expand").click(function(){
			var expandThis = $(this);
			if(isExpanded){
				isExpanded = false;
				contractDivs();
				$("#expand-toggle").text("Visa alla projekt");
				$("#expand-toggle-img").attr("src", "images/arrow-down.svg")
			}else{
				isExpanded = true;
				getProjects();
				$("#expand-toggle").text("Dölj projekt");
				$("#expand-toggle-img").attr("src", "images/arrow-up.svg")
			}
		});
		function getProjects(){
			$.ajax({
					url : "projects/more.txt",
					dataType: "text",
					success : function (data) {
						var newDiv = $('<div/>').html($.parseHTML(data)).contents();
						expandDivs(newDiv);
					}
			});
		}
		var testvar;
		var projWrap = $(".project-wrap");
		var testHeight = projWrap.outerHeight();
		function expandDivs(loadedDiv){
			var newDiv = loadedDiv;
			if(!filesLoaded){
				projWrap.append(newDiv);
				filesLoaded = true;
				testvar = projWrap.height();
			}
			projWrap.css("height", testHeight);
			setTimeout(function(){
				projWrap.css("height");
				projWrap.addClass("wrap-animation");
				projWrap.css("height", testvar);
			}, 0);
			var moreInfo = $(".moreinfo");
			moreInfo.unbind("click");
			moreInfo.click(function () {
				getData($(this));
			});
		}
		function contractDivs(){
			projWrap.css("height", $(".project-wrap").height());
			projWrap.css("height");
			projWrap.css("height", testHeight);
		}
	</script>
</body>
</html>
